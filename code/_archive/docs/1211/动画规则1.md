好，那我把前面聊的内容「收敛成一份正式规范」，你可以直接当成本项目的《动效设计说明 v1》，给自己看、给以后写 three.js / GSAP 的人看都行。

------

# 梦境解析项目 · 动效设计规范 v1

（基于：`首页.jpg`、`导航.jpg`、`详情页.jpg` + 10 个梦境解析文案）

> 统一前提：
>
> - 设备：Win10 触摸屏，1920×1080，Electron 全屏运行
> - 技术：背景使用 three.js（WebGL）做 3D 氛围；UI 使用 React DOM + CSS + GSAP
> - 风格关键词：**霓散光、梦境、柔、慢、安静、有情绪**

------

## 1. 总体设计原则

### 1.1 三层结构

所有页面动画都按照“三层结构”来设计和实现：

1. **背景层（three.js）**
   - 负责：空间感、光雾、粒子、整体情绪氛围
   - 特性：运动极慢、连贯、全天候运行
2. **中景层（three.js，按需）**
   - 负责：少量核心视觉元素（如梦境光球）
   - 特性：轻微呼吸 / 漂浮，作为视觉焦点但不过分抢眼
3. **前景层（React DOM + CSS + GSAP）**
   - 负责：标题、文案、按钮、卡片、导航项等真实交互区域
   - 特性：
     - 页面进入时有一次性过渡动效
     - 用户交互（点击/触摸）有轻量反馈
     - 没有持续性的复杂循环动画

------

### 1.2 动效节奏总则

- **背景动画周期**：
  - 任何持续性背景动效的周期 ≥ 20 秒
  - 推荐区间：**40–120 秒**（极慢、几乎察觉不到）
- **UI 动效时长**：
  - 交互反馈：150–300 ms
  - 页面切换：400–800 ms
- **整体感受**：
  - 用户第一次站在屏幕前，会感到“画面是活着的”；
  - 在屏幕前阅读 5 分钟，不会被动画干扰或疲劳。

------

## 2. 首页 · 三层动画规范（对应 `首页.jpg`）

首页是「进入梦境世界的大门」。

### 2.1 背景层（three.js · 雾状光云）

**视觉目标**：
 类似现在 `首页.jpg` 的霓散光背景，但真正“缓慢流动”。

**建议效果类型：**

- 噪声驱动的云雾 / nebula（例如：基于 noise 的动态渐变）
- 颜色：参考视觉稿主色，一般是紫 + 粉 + 蓝的混合

**动效参数建议：**

| 项目         | 建议参数/描述                          |
| ------------ | -------------------------------------- |
| 运动类型     | 云雾缓慢漂移 + 轻微形变                |
| 水平位移范围 | 不超过屏幕宽度的 10–15%                |
| 垂直位移范围 | 不超过屏幕高度的 10%                   |
| 完整往返周期 | 60–120 秒                              |
| 噪声变形速度 | 慢，肉眼几秒看不出明显变形             |
| 对比度       | 中等，保证文字可读                     |
| 亮度变化     | 几乎无，可以忽略闪烁（不做“亮灭”效果） |

------

### 2.2 中景层（three.js · 梦境光球）

**角色**：首页中央的象征性“梦境核心”。

**视觉特征：**

- 半透明、发光的球体或有机形状
- 表面有轻微起伏（噪声驱动），像在缓慢呼吸
- 色彩与背景呼应，但略微更亮一点作为视线锚点

**动效参数建议：**

| 项目         | 建议参数/描述                |
| ------------ | ---------------------------- |
| 位置         | 居中或略偏上                 |
| 上下浮动幅度 | 8–16 像素                    |
| 浮动周期     | 6–10 秒（一次上+下为一周期） |
| 表面形变强度 | 轻度，仅在边缘有起伏         |
| 形变周期     | 8–12 秒                      |
| 亮度变化     | 背景稍亮一些，中心不要过曝   |

------

### 2.3 前景层（UI · 标题/按钮）

**元素示例**（按你的视觉稿大致结构）：

- 主标题：项目名称 / 核心 Slogan
- 副标题：简短说明
- 主行动按钮：例如「开始探索梦境」
- 次要入口：例如「按情绪浏览」「今日推荐梦境」等

**进入页面动效（一次性）：**

- 背景 & 光球：显示时已带有初始动画，无需淡入
- 前景主区域（整体卡片）：
  - 起始状态：透明 + 轻微向下偏移（如 y = +20 px）
  - 0.6 秒内：透明度 0 → 1，y 回到 0，缓动曲线柔和（类似 cubic / sine）

**静态状态动效：**

- 主卡片整体：
  - 极轻微“呼吸感”：
    - `scale` 在 1.00 ~ 1.02 之间缓慢往返
    - 周期 8–10 秒，缓动柔和
  - 或者只做 4–6 像素上下浮动（二选一即可，不要又缩放又位移太多）

**交互反馈动效：**

- 主按钮（触摸按下）：
  - 轻微放大：0.95 → 1.02 → 1.00
  - 时长：150–200 ms
  - 同时伴随：
    - 阴影略微增强
    - 按钮背景亮度略提升
- 次级按钮/链接：
  - 仅在按下时做 1–2 像素的下压效果即可

------

## 3. 情绪导航页 · 情绪映射与动效参数（对应 `导航.jpg`）

导航页是「情绪/梦境类型走廊」。

### 3.1 背景层（three.js · 同源雾状背景）

**延续首页的雾状背景**，但做以下调整：

- 对比度：略低于首页（避免干扰对卡片的浏览）
- 运动速度：略慢于首页（比如周期从 60–120 秒提升到 80–150 秒）

------

### 3.2 粒子层（three.js · 浮动尘埃）

在雾背景之上叠一层“浮动光点/尘埃”：

| 项目     | 建议参数/描述                |
| -------- | ---------------------------- |
| 粒子数量 | 屏幕可见 < 50 个（密度很低） |
| 粒子大小 | 小点状，略带模糊             |
| 运动速度 | 非常慢，每秒位移约 1–3 像素  |
| 运动方向 | 默认轻微向上或随机缓动       |
| 透明度   | 低，整体不会显眼             |

------

### 3.3 前景层（UI · 情绪/类别卡片）

**元素：**

- 若干情绪主题卡片 / 梦境类型入口
- 顶部标题、副标题、说明文字

**页面进入动效：**

- 背景继续延续，不重置
- 卡片区域整体：
  - 从下方轻微升起 + 淡入：
    - 起始 y = 20 px，透明度 0
    - 0.5–0.6 秒内 y→0，透明度 →1
- 多个卡片可以有极短的间隔（例如每个延迟 50 ms）形成柔和“排队出现”的感觉，但必须很轻微。

------

### 3.4 情绪映射（背景参数表）

可以为不同情绪/类别预置背景配置。例如：

| 情绪类型    | 色调（Hue）       | 明度  | 对比度 | 噪声方向感       | 粒子运动             |
| ----------- | ----------------- | ----- | ------ | ---------------- | -------------------- |
| Joy/快乐    | 暖黄+橙+一点绿    | 中-高 | 中     | 略向上 / 扩散    | 稍微向上漂，速度略快 |
| Sad/悲伤    | 冷蓝+紫           | 低    | 低     | 略向下 / 收缩    | 缓慢下沉、速度极慢   |
| Fear/恐惧   | 深蓝+暗紫         | 很低  | 中     | 向内收 / 微旋    | 轻微晃动，方向不稳定 |
| Calm/平静   | 蓝+绿色           | 中    | 低     | 基本平稳、微波动 | 非常慢，几乎静止     |
| Stress/压力 | 对比偏高的褐/深蓝 | 中    | 较高   | 有轻微螺旋感     | 稍快一点（但仍然慢） |

**交互时的变化规则：**

- 当用户在导航页中：
  - 切换顶部情绪标签，或
  - 长按/选中某个情绪类型的卡片时

背景可以在 0.8–1.0 秒内**平滑过渡**到对应情绪的配置（色调、对比度、粒子速度等）。

------

## 4. 梦境详情页 · 背景情绪配置与阅读动效（对应 `详情页.jpg`）

详情页是读文字最多的地方，要 **“安静到只剩呼吸”**。

### 4.1 背景层（three.js · 弱化雾状背景）

继续使用同一套雾状背景系统，但进一步压制：

| 项目       | 建议参数/变化                        |
| ---------- | ------------------------------------ |
| 对比度     | 降低（颜色更趋近于单色或双色渐变）   |
| 色彩饱和度 | 略降，使文字更突出                   |
| 运动速度   | 再次减慢（例如一圈 90–180 秒）       |
| 明暗变化   | 尽量忽略，避免任何可感知的闪烁或脉冲 |

------

### 4.2 粒子层（three.js · 微尘）

在详情页里，粒子动效应该几乎不可见，只提供一点“空气感”。

| 项目     | 参数建议                     |
| -------- | ---------------------------- |
| 粒子数量 | 屏幕可见 20–30 个            |
| 粒子大小 | 极小、模糊、柔和             |
| 运动速度 | 超慢，每秒 0.5–1.5 像素      |
| 运动方向 | 随机微漂浮为主               |
| 透明度   | 非常低，只在凝视时隐约能看到 |

------

### 4.3 前景层（UI · 标题 + 正文 + 建议）

**结构示例：**

- 上方：梦境标题（如「坠落的梦」）+ 小标签（情绪：恐惧/焦虑等）
- 中间：梦境含义解析（文字段落）
- 下方：建议 / 自我护理提示列表

**页面进入动效（从导航页或别的梦境切换到此梦境）：**

- 标题：
  - 自上而下轻微落下：y = -20 → 0，透明度 0 → 1
  - 时长 400–500 ms
- 封面图 / 插图（如有）：
  - 轻微缩放 + 淡入：例如 scale 0.96 → 1.00
- 正文段落：
  - 按顺序淡入，每段之间间隔 50–80 ms
  - 整体在 0.5–0.8 秒内完成

**阅读过程中：**

- 滚动时不再触发额外动画
- 建议/要点条目在按下时可以：
  - 背景略变亮
  - 左侧出现一条柔和竖线（强调当前阅读点）

------

### 4.4 梦境 ID → 背景情绪配置（示例表）

结合《10 个梦境解析文案》，可以做一张映射表（示例）：

| 梦境 ID | 梦境主题      | 背景色调  | 噪声运动方向          | 粒子行为               |
| ------- | ------------- | --------- | --------------------- | ---------------------- |
| 01      | 坠落          | 深蓝+深紫 | 缓慢向下漂移          | 少量粒子缓慢下沉       |
| 02      | 受伤 / 生病   | 淡蓝+淡绿 | 轻微上下波动          | 粒子缓慢呼吸式浮动     |
| 03      | 被追赶 / 压迫 | 暗蓝+偏红 | 轻微向前（水平位移）  | 粒子略快、方向稍有扰动 |
| 04      | 迷路          | 蓝紫+灰   | 缓慢旋转 / 无明显方向 | 粒子随机漂浮，频率较低 |
| 05      | 飞行 / 解放   | 暖紫+金色 | 缓慢向上              | 粒子向上缓慢漂移       |
| …       | …             | …         | …                     | …                      |

**行为规则：**

- 进入某梦境详情页时，根据 ID 切换到对应配置；
- 切换动画时间控制在 0.8–1.2 秒，平滑过渡，避免突然跳变；
- 若用户快速切换多个梦境，背景仍然可以渐变，不需要立即跳到目标，形成一种“梦境切换轨迹”的感觉。

------

## 5. 统一的「节能 / 长时间运行」策略（建议）

因为这是图书馆触摸屏，一天要亮很久，可以定义一个**“低活动模式”**：

- 判定条件：
  - X 分钟内（比如 3–5 分钟）没有用户操作
- 低活动模式下：
  - 背景三维动效保持，但速度再降低 20–30%
  - 所有前景循环动画（例如卡片轻浮动）暂停在静态状态
  - 粒子运动可进一步变慢或接近静止

用户一旦触摸屏幕：

- 立即恢复正常速度与动效
- 首页按钮可以给予一次稍明显的反馈（微放大）作为“醒来”提示

------

如果你愿意，下一步我可以帮你做一件事：
 **把这份规范进一步拆成「可执行 checklist」**——比如：

- 首页开发时，前端要自查的 10 条动效点；
- three.js 背景在实现时要自查的 8 条性能/风格点。

好，那我就把刚才那份《动效设计规范 v1》再往前推一小步，变成**真正可以给前端/自己对照勾选的 Checklist**。
 依然**不写代码**，全部是“要点清单”。

我分 4 块：

1. 首页开发 Checklist
2. 情绪导航页 Checklist
3. 梦境详情页 Checklist
4. three.js 性能 & 稳定性 Checklist（专门为“图书馆一整天开着”准备）

------

## 一、首页（`首页.jpg`）开发 Checklist

### A. three.js 背景雾层

-  背景是 **全屏 canvas**，1920×1080 覆盖整个页面底层
-  画面整体是 **霓散光 / 云雾** 风格，而不是硬边图形
-  背景云雾在缓慢移动，但：
  -  一次完整来回位移周期 ≥ 60 秒
  -  位移幅度不超过屏幕宽度的 10–15%，高度的 10%
-  没有明显的“闪烁”“突然变亮变暗”
-  背景对比度适中：前景文字在任何区域都清晰可读
-  背景色彩统一在首页设计稿的配色范围内（紫粉蓝系），没有奇怪的跳色

### B. 中央梦境光球（可选中景）

-  光球/有机体位于画面视觉中心或略偏上
-  光球是**柔和发光**，边缘有一定羽化，不是硬边发亮圈
-  光球有轻微浮动：
  -  上下浮动幅度 ≈ 8–16 像素
  -  一次上+下完整周期 ≈ 6–10 秒
-  光球表面有轻微起伏/呼吸感：
  -  变化很慢，不会让人感觉“在不断扭动”
-  光球亮度略高于背景，但不会刺眼、不会压住文字

### C. 前景 UI（标题、副标题、按钮）

**页面进入时：**

-  打开首页时，背景/光球已经在动，不需要额外淡入
-  主标题区（包含标题、副标题、按钮）：
  -  初始不可见且略微下移（比如 y = +20px 的感觉）
  -  在 0.5–0.7 秒内淡入并上移到位
  -  动画节奏柔和，不“咻”一下弹出来

**静态状态：**

-  主卡片或主内容块有很轻微呼吸：
  -  scale 在 1.00–1.02 之间慢速往返
  -  或仅 4–6 像素小范围上下浮动
  -  二者二选一即可，不要叠太多动作

**交互反馈：**

-  主按钮点击/触摸时：
  -  有明显但不夸张的反馈（轻微放大或下压）
  -  动画时长 150–250ms
-  按钮松开后，回到正常状态，没有残留的“变形”
-  所有交互反馈都 **只有在操作时发生**，平时不闪、不跳

------

## 二、情绪导航页（`导航.jpg`）开发 Checklist

### A. 背景复用 & 调整

-  使用 **和首页同一套雾状背景逻辑**（保持世界观一致）
-  相比首页，对比度略低一点，颜色更“收”一点
-  背景运动周期更慢（比如从 60–120 秒改为 80–150 秒）
-  没有额外的高频波动、闪烁

### B. 粒子浮尘层

-  使用粒子/点阵作为**第二层空间深度**
-  粒子总量控制：屏幕上视觉上不超过 50 个
-  粒子运动非常缓慢：
  -  每秒位移量约 1–3 像素
  -  基本是往上漂或随机飘，视觉上“几乎在原地”
-  粒子透明度低，不会和 UI 争抢注意力
-  粒子颜色与当前情绪主题有轻微关联（例如 Joy 暖色一点）

### C. 卡片网格 UI

**页面进入：**

-  背景维持连续运动，不重置
-  卡片整体区块从下轻轻升起：
  -  起始 y ≈ +20px，透明度 0
  -  0.5–0.6 秒淡入到位
-  多个卡片可有极轻微的阶梯出场（每个延迟 50ms 左右），但不要过分强调这个效果

**卡片交互：**

-  轻触/点击卡片时：
  -  卡片轻微放大或上浮 2–4 像素
  -  阴影稍微加强
  -  动画时长 150–200ms
-  不触摸时，卡片保持静止，不自发跳动/闪烁

### D. 情绪映射行为（背景联动）

-  当用户切换到某个情绪标签（比如“恐惧”、“快乐”、“悲伤”）：
  -  背景颜色在 0.8–1 秒内平滑渐变到对应色调
  -  粒子速度/方向可有轻微变化（如快乐略向上、悲伤略向下）
-  不允许出现“瞬间闪变成另一种背景”的跳变效果
-  不允许出现“闪烁式切换”的硬切

------

## 三、梦境详情页（`详情页.jpg`）开发 Checklist

### A. 超安静背景

-  仍然沿用同一套雾状背景系统，但：
  -  色彩对比度再降低
  -  过渡更平滑，几乎察觉不到大范围变化
-  背景移动周期进一步放长（例如 90–180 秒）
-  没有任何闪烁或明显脉冲式亮暗变化

### B. 粒子微尘层（更弱）

-  粒子比导航页更少，屏幕仅 20–30 个可见
-  运动速度极慢：
  -  每秒位移 0.5–1.5 像素
-  透明度更低，作为“空气感存在”，不作为视觉元素
-  整体粒子在页面上不形成明显图案或路径，避免吸引注意力

### C. UI：标题 + 正文 + 建议

**页面进入（从导航或其它详情页切换时）：**

-  标题：
  -  自上而下轻微落下：y -20 → 0，透明度 0 → 1
  -  一个动画，时长 400–500ms
-  副标题/标签：
  -  与标题同步或稍微晚 50ms 出现，保持一致性
-  解析正文：
  -  段落按顺序淡入，每段时间间隔 ≤ 80ms
  -  整体在 0.5–0.8 秒内完成出场

**阅读状态：**

-  滚动文本时，没有额外“滑入/滑出动画”
-  建议条目（例如 1、2、3 点）在触摸时：
  -  背景略变亮 or 增加轻微阴影
  -  文本保持清晰，不旋转、不缩放

### D. 梦境 ID → 背景状态

-  不同梦境使用不同背景色调/运动方向配置，例如：
  -  坠落：色调偏深，背景略有下沉趋势
  -  生病：色调偏柔和冷色，背景有轻微上下浮动
-  从一个梦境切换到另一个时：
  -  背景在约 0.8–1.2 秒内渐变到新配置
  -  粒子行为也轻微调整，但整体仍然非常安静
-  即使用户快速切换多个梦境，背景变化仍保持平滑，不闪、不硬切

------

## 四、three.js 性能 & 稳定性 Checklist（针对图书馆长期运行）

### A. 场景复杂度控制

-  所有页面共用一套 three.js 场景或极少数场景（比如 1–2 个），避免频繁创建/销毁
-  场景中的几何体、粒子数量控制在合理范围（避免几万粒子的重场景）
-  使用的材质尽量简单，shader 仅做必要的柔光/噪声，不堆极重的后期特效

### B. 动画循环

-  使用统一的渲染循环（如 `requestAnimationFrame` 一个主循环），避免多个不必要的 Timer/Loop
-  背景动画逻辑尽量简单：只更新少数统一参数（time、offset），避免每帧大量复杂计算
-  所有背景动画都做成“慢节奏 + 可线性或缓和变动”的形式，避免复杂的物理模拟

### C. 资源管理

-  纹理数量有限，所有纹理提前加载并复用，不在页面切换时频繁 new Texture
-  不使用不必要的超大分辨率贴图
-  不加载未使用的几何体/材质

### D. 空闲/低活动模式

-  没有用户操作 X 分钟（建议 3–5 分钟）后：
  -  three.js 动画速度降低 20–30%
  -  DOM 上的循环动画（卡片呼吸等）暂停
-  一旦用户触摸屏幕：
  -  立刻恢复正常速度
  -  首个操作元素给予清晰的“被唤醒”反馈

### E. 温度 & 测试

-  在目标设备（图书馆 Win10 触摸屏）上进行至少 1–2 小时的实机测试：
  -  观察 CPU/GPU 占用
  -  观察风扇声音、机身温度
  -  确认中途不会出现明显掉帧
-  如发现资源偏高/掉帧：
  -  优先减少粒子数量、降低分辨率、简化 shader
  -  而不是牺牲文字和阅读体验

------

这样，你现在有了三套东西：

1. 动效理念（为什么这么设计）
2. 动效规范（每页怎么动、动多少）
3. 可执行的 Checklist（开发实现时逐条勾选）

后面如果你愿意，我们还可以针对：

- **《10 个梦境解析文案》逐条做“情绪标签 + 建议背景状态表”**，
   相当于给每一条梦境文案配一套“视觉情绪配置”（还是只文字，不写代码），
   这样你后端/前端直接用一个配置表就能联动 three.js 背景和 UI 文案了。