# DreamBook Kiosk å¿«é€Ÿå‚è€ƒæŒ‡å—

> å¿«é€ŸæŸ¥é˜…ç‰ˆæœ¬ï¼Œç”¨äºæ—¥å¸¸å¼€å‘å’Œéƒ¨ç½²

---

## ğŸ¯ ä¸‰ä¸ªåŠŸèƒ½å¿«é€Ÿå¯¹ç…§è¡¨

### åŠŸèƒ½ 1ï¼šå¼€æœºä¸è¾“å…¥å¯†ç 

| æ­¥éª¤ | å‘½ä»¤ | è¯´æ˜ |
|------|------|------|
| 1 | `net user kiosk å¯†ç  /add` | åˆ›å»º kiosk ç”¨æˆ· |
| 2 | `reg add ... DefaultUserName ... kiosk` | è®¾ç½®é»˜è®¤ç”¨æˆ· |
| 3 | `reg add ... DefaultPassword ... å¯†ç ` | è®¾ç½®é»˜è®¤å¯†ç  |
| 4 | `reg add ... AutoAdminLogon ... 1` | å¯ç”¨è‡ªåŠ¨ç™»å½• |
| 5 | `reg load HKU\DEF ...` | åŠ è½½ Default User |
| 6 | `reg add ... Shell ... dreambook.exe` | è®¾ç½® Shell |
| 7 | `reg unload HKU\DEF` | å¸è½½æ³¨å†Œè¡¨ |

**éªŒè¯ï¼š** é‡å¯ç”µè„‘ â†’ è‡ªåŠ¨è¿›å…¥ dreambook åº”ç”¨

---

### åŠŸèƒ½ 2ï¼šè™šæ‹Ÿé”®ç›˜

| ç»„ä»¶ | æ–‡ä»¶ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|------|
| Hook | `src/hooks/useVirtualKeyboard.ts` | âœ… å·²æœ‰ | å¤„ç†é”®ç›˜é€»è¾‘ |
| SearchBox | `src/components/SearchBox/SearchBox.tsx` | âœ… å·²åº”ç”¨ | æœç´¢æ¡†è¾“å…¥ |
| AIChat | `src/pages/AIChat/index.tsx` | âœ… å·²åº”ç”¨ | æ¢¦å¢ƒè¾“å…¥æ¡† |
| IPC | `electron/main.ts` | âœ… å·²æœ‰ | è°ƒç”¨ç³»ç»Ÿé”®ç›˜ |
| Preload | `electron/preload.ts` | âœ… å·²æœ‰ | æš´éœ²æ¥å£ |

**éªŒè¯ï¼š** ç‚¹å‡»è¾“å…¥æ¡† â†’ è™šæ‹Ÿé”®ç›˜å¼¹å‡º

---

### åŠŸèƒ½ 3ï¼šç®¡ç†é¢æ¿

| ç»„ä»¶ | æ–‡ä»¶ | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|------|
| AdminTrigger | `src/components/AdminTrigger/AdminTrigger.tsx` | å³ä¸Šè§’ 5 æ¬¡ç‚¹å‡» | âœ… å®Œæˆ |
| AdminPanel | `src/components/AdminPanel/AdminPanel.tsx` | ç®¡ç†é¢æ¿ UI | âœ… å®Œæˆ |
| åˆ·æ–°é¡µé¢ | AdminPanel | `window.location.reload()` | âœ… å®Œæˆ |
| é‡å¯åº”ç”¨ | AdminPanel | `electronAPI.restartApp()` | âœ… å®Œæˆ |
| é€€å‡ºåº”ç”¨ | AdminPanel | `electronAPI.exitApp()` | âœ… å®Œæˆ |
| åˆ‡æ¢ç”¨æˆ· | AdminPanel | `electronAPI.switchUser()` | âœ… æ–°å¢ |

**éªŒè¯ï¼š** å³ä¸Šè§’å¿«é€Ÿç‚¹å‡» 5 æ¬¡ â†’ ç®¡ç†é¢æ¿å¼¹å‡º â†’ ç‚¹å‡»åˆ‡æ¢ç”¨æˆ· â†’ å›åˆ°ç™»å½•ç•Œé¢

---

## ğŸ”§ ä»£ç ä¿®æ”¹é€ŸæŸ¥

### ä¿®æ”¹ 1ï¼špreload.ts - æ·»åŠ  switchUser

```typescript
// ä½ç½®ï¼šelectron/preload.ts

// åœ¨ exposeInMainWorld ä¸­æ·»åŠ 
switchUser: () => ipcRenderer.invoke('sys:switch-user'),

// åœ¨ç±»å‹å£°æ˜ä¸­æ·»åŠ 
switchUser: () => Promise<void>
```

**çŠ¶æ€ï¼š** âœ… å·²å®Œæˆ

---

### ä¿®æ”¹ 2ï¼šmain.ts - æ·»åŠ  IPC å¤„ç†å™¨

```typescript
// ä½ç½®ï¼šelectron/main.ts â†’ setupIPC() å‡½æ•°

ipcMain.handle('sys:switch-user', () => {
  log('[ç³»ç»Ÿ] æ‰§è¡Œåˆ‡æ¢ç”¨æˆ·å‘½ä»¤')
  if (process.platform !== 'win32') {
    log('[ç³»ç»Ÿ] é Windows å¹³å°ï¼Œè·³è¿‡åˆ‡æ¢ç”¨æˆ·')
    return
  }

  try {
    exec('C:\\Windows\\System32\\tsdiscon.exe', (error) => {
      if (error) {
        log(`[ç³»ç»Ÿ] åˆ‡æ¢ç”¨æˆ·å¤±è´¥: ${error.message}`)
      } else {
        log('[ç³»ç»Ÿ] âœ… å·²æˆåŠŸåˆ‡æ¢ç”¨æˆ·')
      }
    })
    isQuitting = true
  } catch (error) {
    log(`[ç³»ç»Ÿ] åˆ‡æ¢ç”¨æˆ·å¼‚å¸¸: ${error}`)
  }
})
```

**çŠ¶æ€ï¼š** âœ… å·²å®Œæˆ

---

### ä¿®æ”¹ 3ï¼šAdminPanel.tsx - æ·»åŠ åˆ‡æ¢ç”¨æˆ·æŒ‰é’®

```typescript
// ä½ç½®ï¼šsrc/components/AdminPanel/AdminPanel.tsx

// 1. æ·»åŠ å¤„ç†å‡½æ•°
const handleSwitchUser = async () => {
  if (!window.electronAPI?.switchUser) {
    alert('åˆ‡æ¢ç”¨æˆ·åŠŸèƒ½ä»…åœ¨ Windows Electron ç¯å¢ƒä¸‹å¯ç”¨')
    return
  }

  if (confirm('ç¡®å®šè¦åˆ‡æ¢ç”¨æˆ·å—ï¼Ÿåº”ç”¨å°†é€€å‡ºåˆ°ç™»å½•ç•Œé¢ã€‚')) {
    try {
      await window.electronAPI.switchUser()
    } catch (error) {
      console.error('åˆ‡æ¢ç”¨æˆ·å¤±è´¥:', error)
    }
  }
}

// 2. æ·»åŠ æ ·å¼
switchUserButton: {
  background: 'rgba(255, 180, 100, 0.3)',
  border: '1px solid rgba(255, 180, 100, 0.6)',
  color: '#ffc080',
}

// 3. æ·»åŠ æŒ‰é’® JSX
<button
  onClick={handleSwitchUser}
  style={{ ...styles.button, ...styles.switchUserButton }}
  onMouseEnter={(e) => {
    e.currentTarget.style.background = 'rgba(255, 180, 100, 0.5)'
    e.currentTarget.style.transform = 'translateY(-2px)'
    e.currentTarget.style.boxShadow = '0 4px 20px rgba(255, 180, 100, 0.4)'
  }}
  onMouseLeave={(e) => {
    e.currentTarget.style.background = 'rgba(255, 180, 100, 0.3)'
    e.currentTarget.style.transform = 'translateY(0)'
    e.currentTarget.style.boxShadow = 'none'
  }}
>
  åˆ‡æ¢ç”¨æˆ·
</button>
```

**çŠ¶æ€ï¼š** âœ… å·²å®Œæˆ

---

### ä¿®æ”¹ 4ï¼šAdminTrigger.tsx - æ”¯æŒè§¦æ‘¸äº‹ä»¶

```typescript
// ä½ç½®ï¼šsrc/components/AdminTrigger/AdminTrigger.tsx

// ä¿®æ”¹ handleClick ç­¾åæ”¯æŒè§¦æ‘¸äº‹ä»¶
const handleClick = useCallback((e: React.MouseEvent | React.TouchEvent) => {
  e.preventDefault()
  e.stopPropagation()
  // ... å…¶ä½™é€»è¾‘ä¸å˜
}, [clickCount, lastClickTime, clickTimeout, triggerClicks])
```

**çŠ¶æ€ï¼š** âœ… å·²å®Œæˆ

---

## ğŸ“¦ ç¼–è¯‘å’Œæ‰“åŒ…æ­¥éª¤

### æ­¥éª¤ 1ï¼šæœ¬åœ°å¼€å‘æµ‹è¯•

```bash
# å®‰è£…ä¾èµ–
cd /Users/steven/works/20251130dreambook/code/dreambook
yarn install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
yarn dev

# åœ¨å¦ä¸€ä¸ªç»ˆç«¯å¯åŠ¨åç«¯
cd backend
yarn dev

# åœ¨ç¬¬ä¸‰ä¸ªç»ˆç«¯å¯åŠ¨ Electron
yarn electron:dev
```

**éªŒè¯ï¼š**
- [ ] åº”ç”¨æ­£å¸¸å¯åŠ¨
- [ ] è™šæ‹Ÿé”®ç›˜åŠŸèƒ½æ­£å¸¸
- [ ] ç®¡ç†é¢æ¿å¯ä»¥æ‰“å¼€
- [ ] åˆ‡æ¢ç”¨æˆ·åŠŸèƒ½å¯ä»¥è°ƒç”¨

---

### æ­¥éª¤ 2ï¼šç¼–è¯‘ TypeScript

```bash
# æ£€æŸ¥ TypeScript ç±»å‹
yarn build:skip-check

# æˆ–å®Œæ•´ç¼–è¯‘ï¼ˆåŒ…æ‹¬ç±»å‹æ£€æŸ¥ï¼‰
yarn build
```

**éªŒè¯ï¼š**
- [ ] æ— ç¼–è¯‘é”™è¯¯
- [ ] æ—  TypeScript ç±»å‹é”™è¯¯

---

### æ­¥éª¤ 3ï¼šæ‰“åŒ… Electron åº”ç”¨

#### 3.1 macOS æ‰“åŒ…

```bash
# æ‰“åŒ…ä¸º macOS åº”ç”¨
yarn electron:build:mac

# åˆ›å»º DMG å®‰è£…åŒ…ï¼ˆé€šç”¨ç‰ˆæœ¬ï¼‰
yarn electron:dmg
```

**è¾“å‡ºï¼š** `dist/` ç›®å½•ä¸‹çš„ `.dmg` æ–‡ä»¶

---

#### 3.2 Windows æ‰“åŒ…

```bash
# æ‰“åŒ…ä¸º Windows åº”ç”¨
yarn electron:build:win
```

**è¾“å‡ºï¼š** `dist/` ç›®å½•ä¸‹çš„ `.exe` å®‰è£…ç¨‹åº

**æ³¨æ„ï¼š** éœ€è¦åœ¨ Windows ç¯å¢ƒä¸‹æ‰§è¡Œï¼Œæˆ–ä½¿ç”¨ CI/CD å·¥å…·

---

### æ­¥éª¤ 4ï¼šéƒ¨ç½²åˆ° Windows 10 è®¾å¤‡

```bash
# 1. å¤åˆ¶ exe æ–‡ä»¶åˆ°ç›®æ ‡è·¯å¾„
Copy-Item -Path "dist/dreambook.exe" -Destination "C:\kiosk\dreambook\" -Force

# 2. éªŒè¯æ–‡ä»¶
dir C:\kiosk\dreambook\dreambook.exe

# 3. é‡å¯åº”ç”¨æˆ–é‡å¯ç”µè„‘
Restart-Computer
```

---

## ğŸ§ª æµ‹è¯•æ¸…å•

### æµ‹è¯• 1ï¼šå¼€æœºè‡ªåŠ¨ç™»å½•

```
æ­¥éª¤ï¼š
1. é‡å¯ç”µè„‘
2. è§‚å¯Ÿå¯åŠ¨è¿‡ç¨‹

é¢„æœŸç»“æœï¼š
âœ… è‡ªåŠ¨ç™»å½•åˆ° kiosk è´¦æˆ·ï¼ˆæ— éœ€è¾“å…¥å¯†ç ï¼‰
âœ… ç›´æ¥è¿›å…¥ dreambook åº”ç”¨
âœ… æ—  Windows æ¡Œé¢ã€æ— ä»»åŠ¡æ 
```

**æ—¥å¿—ä½ç½®ï¼š** `~/dreambook-logs/app-YYYY-MM-DD.log`

---

### æµ‹è¯• 2ï¼šè™šæ‹Ÿé”®ç›˜

```
æ­¥éª¤ï¼š
1. åº”ç”¨å¯åŠ¨åï¼Œç‚¹å‡»æœç´¢æ¡†
2. è§‚å¯Ÿè™šæ‹Ÿé”®ç›˜æ˜¯å¦å¼¹å‡º
3. ä½¿ç”¨è™šæ‹Ÿé”®ç›˜è¾“å…¥æ–‡å­—

é¢„æœŸç»“æœï¼š
âœ… è™šæ‹Ÿé”®ç›˜è‡ªåŠ¨å¼¹å‡º
âœ… å¯ä»¥è¾“å…¥æ–‡å­—
âœ… è¾“å…¥æ¡†æ˜¾ç¤ºè¾“å…¥çš„å†…å®¹
```

**è°ƒè¯•ï¼š** æ‰“å¼€ DevTools (F12) æŸ¥çœ‹ Console ä¸­çš„ `[è™šæ‹Ÿé”®ç›˜]` æ—¥å¿—

---

### æµ‹è¯• 3ï¼šç®¡ç†é¢æ¿

```
æ­¥éª¤ï¼š
1. åœ¨å±å¹•å³ä¸Šè§’å¿«é€Ÿç‚¹å‡» 5 æ¬¡ï¼ˆ2 ç§’å†…ï¼‰
2. è§‚å¯Ÿç®¡ç†é¢æ¿æ˜¯å¦å¼¹å‡º
3. ç‚¹å‡»å„ä¸ªæŒ‰é’®æµ‹è¯•åŠŸèƒ½

é¢„æœŸç»“æœï¼š
âœ… ç®¡ç†é¢æ¿å¼¹å‡º
âœ… åˆ·æ–°é¡µé¢ - é¡µé¢é‡æ–°åŠ è½½
âœ… é‡å¯åº”ç”¨ - åº”ç”¨é‡å¯
âœ… é€€å‡ºåº”ç”¨ - åº”ç”¨é€€å‡º
âœ… åˆ‡æ¢ç”¨æˆ· - å›åˆ° Windows ç™»å½•ç•Œé¢
```

**è°ƒè¯•ï¼š** å–æ¶ˆæ³¨é‡Š AdminTrigger ä¸­çš„è°ƒè¯•ä»£ç æŸ¥çœ‹è§¦å‘åŒºåŸŸ

---

### æµ‹è¯• 4ï¼šåˆ‡æ¢ç”¨æˆ·

```
æ­¥éª¤ï¼š
1. æ‰“å¼€ç®¡ç†é¢æ¿ï¼ˆå³ä¸Šè§’ç‚¹å‡» 5 æ¬¡ï¼‰
2. ç‚¹å‡»"åˆ‡æ¢ç”¨æˆ·"æŒ‰é’®
3. ç¡®è®¤å¯¹è¯æ¡†
4. è§‚å¯Ÿåº”ç”¨æ˜¯å¦é€€å‡ºåˆ°ç™»å½•ç•Œé¢

é¢„æœŸç»“æœï¼š
âœ… åº”ç”¨é€€å‡º
âœ… æ˜¾ç¤º Windows ç™»å½•ç•Œé¢
âœ… å¯ä»¥ç™»å½• Administrator è´¦æˆ·
âœ… å¯ä»¥è¿›è¡Œç³»ç»Ÿç»´æŠ¤
```

---

## ğŸ” è°ƒè¯•æŠ€å·§

### å¯ç”¨è°ƒè¯•æ¨¡å¼

```typescript
// åœ¨ electron/main.ts ä¸­ä¿®æ”¹
const ENABLE_DEVTOOLS_IN_PRODUCTION = true  // æ”¹ä¸º true
```

**æ•ˆæœï¼š** æ‰“åŒ…åçš„åº”ç”¨ä¹Ÿä¼šè‡ªåŠ¨æ‰“å¼€ DevTools

---

### æŸ¥çœ‹æ—¥å¿—

```bash
# macOS/Linux
cat ~/dreambook-logs/app-2026-01-13.log

# Windows PowerShell
Get-Content "$env:USERPROFILE\dreambook-logs\app-2026-01-13.log"

# å®æ—¶æŸ¥çœ‹ï¼ˆLinux/macOSï¼‰
tail -f ~/dreambook-logs/app-2026-01-13.log
```

---

### è°ƒè¯•è™šæ‹Ÿé”®ç›˜

```typescript
// åœ¨ electron/main.ts ä¸­ï¼ŒshowWindowsVirtualKeyboard() å‡½æ•°å·²æœ‰è¯¦ç»†æ—¥å¿—
// æŸ¥çœ‹ Console ä¸­çš„ [è™šæ‹Ÿé”®ç›˜] æ—¥å¿—

// æ‰‹åŠ¨æµ‹è¯•è™šæ‹Ÿé”®ç›˜
// åœ¨ Windows å‘½ä»¤è¡Œæ‰§è¡Œ
C:\Program Files\Common Files\microsoft shared\ink\TabTip.exe
```

---

### è°ƒè¯•ç®¡ç†é¢æ¿

```typescript
// åœ¨ src/components/AdminTrigger/AdminTrigger.tsx ä¸­
// å–æ¶ˆæ³¨é‡Šè°ƒè¯•ä»£ç æŸ¥çœ‹è§¦å‘åŒºåŸŸ
// backgroundColor: 'rgba(255, 0, 0, 0.3)',

// åœ¨ Console ä¸­æŸ¥çœ‹ç‚¹å‡»æ—¥å¿—
// [AdminTrigger] ç‚¹å‡»æ£€æµ‹ { clickCount: 1, triggerClicks: 5 }
```

---

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

### ä»£ç æ£€æŸ¥
- [ ] æ‰€æœ‰ä¿®æ”¹å·²å®Œæˆ
- [ ] TypeScript ç¼–è¯‘æ— é”™è¯¯
- [ ] æ²¡æœ‰ console.error æˆ– console.warn
- [ ] æ—¥å¿—è¾“å‡ºæ­£å¸¸

### åŠŸèƒ½æ£€æŸ¥
- [ ] è™šæ‹Ÿé”®ç›˜å¯ä»¥å¼¹å‡º
- [ ] ç®¡ç†é¢æ¿å¯ä»¥æ‰“å¼€
- [ ] åˆ‡æ¢ç”¨æˆ·åŠŸèƒ½å¯ä»¥è°ƒç”¨
- [ ] æ²¡æœ‰å†…å­˜æ³„æ¼

### ç³»ç»Ÿé…ç½®æ£€æŸ¥
- [ ] kiosk ç”¨æˆ·å·²åˆ›å»º
- [ ] è‡ªåŠ¨ç™»å½•å·²é…ç½®
- [ ] Shell æ›¿æ¢å·²é…ç½®
- [ ] è™šæ‹Ÿé”®ç›˜æœåŠ¡å·²å¯ç”¨

### éƒ¨ç½²æ£€æŸ¥
- [ ] exe æ–‡ä»¶å·²å¤åˆ¶åˆ° `C:\kiosk\dreambook\`
- [ ] æ–‡ä»¶æƒé™æ­£ç¡®
- [ ] è·¯å¾„é…ç½®æ­£ç¡®
- [ ] é˜²ç«å¢™è§„åˆ™å·²é…ç½®

---

## ğŸš¨ å¸¸è§é—®é¢˜å¿«é€Ÿè§£å†³

### Q1ï¼šè™šæ‹Ÿé”®ç›˜ä¸å¼¹å‡º

**Aï¼š** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

```bash
# 1. æ£€æŸ¥æœåŠ¡æ˜¯å¦å¯ç”¨
sc query TabletInputService

# 2. å¯ç”¨æœåŠ¡
sc config TabletInputService start= auto
sc start TabletInputService

# 3. æ£€æŸ¥æ—¥å¿—
tail -f ~/dreambook-logs/app-*.log | grep "è™šæ‹Ÿé”®ç›˜"

# 4. æ‰‹åŠ¨æµ‹è¯•
"C:\Program Files\Common Files\microsoft shared\ink\TabTip.exe"
```

---

### Q2ï¼šåˆ‡æ¢ç”¨æˆ·ä¸å·¥ä½œ

**Aï¼š** æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š

```bash
# 1. æ£€æŸ¥ tsdiscon.exe æ˜¯å¦å­˜åœ¨
dir C:\Windows\System32\tsdiscon.exe

# 2. æ‰‹åŠ¨æµ‹è¯•
C:\Windows\System32\tsdiscon.exe

# 3. æ£€æŸ¥æƒé™
# ç¡®ä¿ kiosk ç”¨æˆ·æœ‰æƒé™æ‰§è¡Œæ­¤å‘½ä»¤

# 4. æŸ¥çœ‹æ—¥å¿—
Get-Content "$env:USERPROFILE\dreambook-logs\app-*.log" | Select-String "åˆ‡æ¢ç”¨æˆ·"
```

---

### Q3ï¼šå¼€æœºä¸è‡ªåŠ¨ç™»å½•

**Aï¼š** æ£€æŸ¥æ³¨å†Œè¡¨é…ç½®ï¼š

```cmd
# æ£€æŸ¥è‡ªåŠ¨ç™»å½•é…ç½®
reg query "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v AutoAdminLogon
reg query "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v DefaultUserName
reg query "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v DefaultPassword

# é‡æ–°é…ç½®
reg add "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v AutoAdminLogon /t REG_SZ /d 1 /f
reg add "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v DefaultUserName /t REG_SZ /d kiosk /f
reg add "HKLM\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Winlogon" /v DefaultPassword /t REG_SZ /d "ä½ çš„å¯†ç " /f
```

---

### Q4ï¼šå³ä¸Šè§’ç‚¹å‡»ä¸å“åº”

**Aï¼š** è°ƒè¯•è§¦å‘åŒºåŸŸï¼š

```typescript
// åœ¨ AdminTrigger.tsx ä¸­å–æ¶ˆæ³¨é‡Š
backgroundColor: 'rgba(255, 0, 0, 0.3)',

// æŸ¥çœ‹çº¢è‰²åŒºåŸŸæ˜¯å¦åœ¨å³ä¸Šè§’
// å¦‚æœçœ‹ä¸åˆ°ï¼Œæ£€æŸ¥ zIndex æ˜¯å¦è¢«å…¶ä»–å…ƒç´ è¦†ç›–
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è·å–å¸®åŠ©

1. **æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶**
   ```bash
   ~/dreambook-logs/app-YYYY-MM-DD.log
   ```

2. **æ‰“å¼€ DevTools**
   - å¼€å‘æ¨¡å¼ï¼šF12
   - ç”Ÿäº§æ¨¡å¼ï¼šä¿®æ”¹ `ENABLE_DEVTOOLS_IN_PRODUCTION = true`

3. **æ£€æŸ¥ Console è¾“å‡º**
   - `[è™šæ‹Ÿé”®ç›˜]` - è™šæ‹Ÿé”®ç›˜ç›¸å…³æ—¥å¿—
   - `[AdminTrigger]` - ç®¡ç†é¢æ¿è§¦å‘æ—¥å¿—
   - `[ç³»ç»Ÿ]` - ç³»ç»Ÿå‘½ä»¤æ‰§è¡Œæ—¥å¿—

4. **æŸ¥çœ‹æºä»£ç **
   - è™šæ‹Ÿé”®ç›˜ï¼š`src/hooks/useVirtualKeyboard.ts`
   - ç®¡ç†é¢æ¿ï¼š`src/components/AdminPanel/AdminPanel.tsx`
   - ç³»ç»Ÿå‘½ä»¤ï¼š`electron/main.ts` â†’ `setupIPC()`

---

## ğŸ“š ç›¸å…³æ–‡ä»¶é€ŸæŸ¥

| åŠŸèƒ½ | æ–‡ä»¶ | è¡Œå· | è¯´æ˜ |
|------|------|------|------|
| è™šæ‹Ÿé”®ç›˜ Hook | `src/hooks/useVirtualKeyboard.ts` | å…¨æ–‡ | é”®ç›˜é€»è¾‘ |
| è™šæ‹Ÿé”®ç›˜ IPC | `electron/main.ts` | 685-704 | IPC å¤„ç† |
| è™šæ‹Ÿé”®ç›˜å®ç° | `electron/main.ts` | 344-424 | ç³»ç»Ÿè°ƒç”¨ |
| ç®¡ç†é¢æ¿ | `src/components/AdminPanel/AdminPanel.tsx` | å…¨æ–‡ | UI ç»„ä»¶ |
| ç®¡ç†è§¦å‘å™¨ | `src/components/AdminTrigger/AdminTrigger.tsx` | å…¨æ–‡ | è§¦å‘é€»è¾‘ |
| åˆ‡æ¢ç”¨æˆ· IPC | `electron/main.ts` | 721-744 | ç³»ç»Ÿå‘½ä»¤ |
| Preload | `electron/preload.ts` | å…¨æ–‡ | IPC æ¥å£ |

---

**æœ€åæ›´æ–°ï¼š** 2026-01-13
**ç‰ˆæœ¬ï¼š** 1.0
**çŠ¶æ€ï¼š** âœ… å®Œæˆ
